<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>ì±„íŒ… - INABOOTH</title>
  <link rel="preconnect" href="https://cdn.jsdelivr.net">
  <link href="https://cdn.jsdelivr.net/gh/orioncactus/pretendard@v1.3.9/dist/web/variable/pretendardvariable-dynamic-subset.min.css" rel="stylesheet">
  <link rel="stylesheet" href="components/shared.css">
  <script src="https://unpkg.com/lucide@latest"></script>
  <style>
    .chat-page {
      padding-top: calc(var(--header-height) + var(--space-6));
      min-height: 100vh;
      background: var(--color-bg-secondary);
      padding-bottom: var(--space-8);
    }

    .chat-layout {
      display: grid;
      grid-template-columns: 380px 1fr;
      gap: 0;
      background: white;
      border-radius: var(--radius-xl);
      overflow: hidden;
      box-shadow: var(--shadow-card);
      min-height: calc(100vh - var(--header-height) - var(--space-12));
    }

    /* ì±„íŒ… ëª©ë¡ ì‚¬ì´ë“œë°” */
    .chat-sidebar {
      border-right: 1px solid var(--color-border);
      display: flex;
      flex-direction: column;
    }

    .chat-sidebar__header {
      padding: var(--space-6);
      border-bottom: 1px solid var(--color-border);
    }

    .chat-sidebar__title {
      font-size: var(--font-size-xl);
      font-weight: var(--font-weight-bold);
      margin-bottom: var(--space-4);
    }

    .chat-search {
      position: relative;
    }

    .chat-search__input {
      width: 100%;
      padding: var(--space-3) var(--space-4) var(--space-3) 44px;
      border: 1px solid var(--color-border);
      border-radius: var(--radius-md);
      font-size: var(--font-size-sm);
      background: var(--color-bg-secondary);
      transition: all var(--transition-fast);
    }

    .chat-search__input:focus {
      outline: none;
      border-color: var(--color-primary);
      background: white;
    }

    .chat-search__icon {
      position: absolute;
      left: var(--space-4);
      top: 50%;
      transform: translateY(-50%);
      color: var(--color-text-tertiary);
    }

    /* ì±„íŒ… í•„í„° íƒ­ */
    .chat-tabs {
      display: flex;
      padding: 0 var(--space-6);
      border-bottom: 1px solid var(--color-border);
    }

    .chat-tab {
      padding: var(--space-4) var(--space-4);
      font-size: var(--font-size-sm);
      font-weight: var(--font-weight-medium);
      color: var(--color-text-tertiary);
      border-bottom: 2px solid transparent;
      margin-bottom: -1px;
      cursor: pointer;
      transition: all var(--transition-fast);
    }

    .chat-tab:hover {
      color: var(--color-text-secondary);
    }

    .chat-tab.active {
      color: var(--color-primary);
      border-bottom-color: var(--color-primary);
    }

    .chat-tab__count {
      display: inline-flex;
      align-items: center;
      justify-content: center;
      min-width: 20px;
      height: 20px;
      padding: 0 6px;
      margin-left: 6px;
      background: var(--color-bg-secondary);
      border-radius: var(--radius-full);
      font-size: var(--font-size-xs);
      font-weight: var(--font-weight-semibold);
    }

    .chat-tab.active .chat-tab__count {
      background: var(--color-primary-light);
      color: var(--color-primary);
    }

    /* ì±„íŒ… ëª©ë¡ */
    .chat-list {
      flex: 1;
      overflow-y: auto;
    }

    .chat-item {
      display: flex;
      gap: var(--space-3);
      padding: var(--space-4) var(--space-6);
      border-bottom: 1px solid var(--color-border-light);
      cursor: pointer;
      transition: background var(--transition-fast);
    }

    .chat-item:hover {
      background: var(--color-bg-secondary);
    }

    .chat-item.active {
      background: var(--color-primary-light);
    }

    .chat-item.unread {
      background: rgba(79, 70, 229, 0.03);
    }

    .chat-item__avatar {
      width: 48px;
      height: 48px;
      border-radius: var(--radius-md);
      background: var(--color-bg-tertiary);
      flex-shrink: 0;
      overflow: hidden;
    }

    .chat-item__avatar img {
      width: 100%;
      height: 100%;
      object-fit: cover;
    }

    .chat-item__content {
      flex: 1;
      min-width: 0;
    }

    .chat-item__header {
      display: flex;
      justify-content: space-between;
      align-items: center;
      margin-bottom: 4px;
    }

    .chat-item__name {
      font-size: var(--font-size-sm);
      font-weight: var(--font-weight-semibold);
      color: var(--color-text-primary);
    }

    .chat-item__time {
      font-size: var(--font-size-xs);
      color: var(--color-text-tertiary);
    }

    .chat-item__project {
      font-size: var(--font-size-xs);
      color: var(--color-primary);
      margin-bottom: 4px;
    }

    .chat-item__message {
      font-size: var(--font-size-sm);
      color: var(--color-text-secondary);
      white-space: nowrap;
      overflow: hidden;
      text-overflow: ellipsis;
    }

    .chat-item.unread .chat-item__message {
      font-weight: var(--font-weight-medium);
      color: var(--color-text-primary);
    }

    .chat-item__badge {
      width: 8px;
      height: 8px;
      background: var(--color-primary);
      border-radius: 50%;
      margin-left: var(--space-2);
    }

    /* ê³ ì •í•€ ê¸°ëŠ¥ */
    .chat-item__pin {
      position: absolute;
      top: 50%;
      right: var(--space-2);
      transform: translateY(-50%);
      color: var(--color-warning);
      opacity: 0;
      transition: opacity var(--transition-fast);
    }

    .chat-item:hover .chat-item__pin {
      opacity: 0.5;
    }

    .chat-item.pinned .chat-item__pin {
      opacity: 1;
    }

    .chat-item.pinned {
      background: rgba(245, 158, 11, 0.05);
      border-left: 3px solid var(--color-warning);
    }

    .chat-item {
      position: relative;
    }

    /* ì±„íŒ… ì—†ìŒ ìƒíƒœ */
    .chat-empty {
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: center;
      padding: var(--space-16);
      color: var(--color-text-tertiary);
      text-align: center;
    }

    .chat-empty__icon {
      width: 64px;
      height: 64px;
      margin-bottom: var(--space-4);
    }

    /* ì±„íŒ… ë©”ì¸ ì˜ì—­ (ì„ íƒ ì „) */
    .chat-main {
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: center;
      background: var(--color-bg-secondary);
      color: var(--color-text-tertiary);
      text-align: center;
      padding: var(--space-8);
    }

    .chat-main__icon {
      width: 80px;
      height: 80px;
      margin-bottom: var(--space-4);
      opacity: 0.5;
    }

    .chat-main__text {
      font-size: var(--font-size-lg);
      font-weight: var(--font-weight-medium);
    }

    @media (max-width: 768px) {
      .chat-layout {
        grid-template-columns: 1fr;
      }

      .chat-main {
        display: none;
      }
    }
  </style>
</head>
<body>
  <div id="header-placeholder"></div>

  <main class="chat-page">
    <div class="container">
      <div class="chat-layout">
        <!-- ì±„íŒ… ëª©ë¡ ì‚¬ì´ë“œë°” -->
        <aside class="chat-sidebar">
          <div class="chat-sidebar__header">
            <h1 class="chat-sidebar__title">ë©”ì‹œì§€</h1>
            <div class="chat-search">
              <i data-lucide="search" class="icon icon-sm chat-search__icon"></i>
              <input type="text" class="chat-search__input" placeholder="ëŒ€í™” ê²€ìƒ‰...">
            </div>
          </div>

          <div class="chat-tabs">
            <button class="chat-tab active">
              ì „ì²´
              <span class="chat-tab__count">5</span>
            </button>
            <button class="chat-tab">
              ì§„í–‰ì¤‘
              <span class="chat-tab__count">3</span>
            </button>
            <button class="chat-tab">
              ì™„ë£Œ
              <span class="chat-tab__count">2</span>
            </button>
          </div>

          <div class="chat-list">
            <!-- ì½ì§€ ì•Šì€ ì±„íŒ… (ê³ ì •ë¨) -->
            <a href="10-2 ì±„íŒ…ë°© ìƒì„¸.html" class="chat-item unread pinned" onclick="event.preventDefault(); if(!event.target.closest('.chat-item__pin')) location.href=this.href;">
              <button class="chat-item__pin" onclick="event.preventDefault(); event.stopPropagation(); togglePin(this.closest('.chat-item'));" title="ê³ ì • í•´ì œ">
                <i data-lucide="pin" class="icon icon-sm"></i>
              </button>
              <div class="chat-item__avatar">
                <img src="https://picsum.photos/seed/bear1/100/100" alt="ê³°ëŒì´ ì¹œêµ¬ë“¤">
              </div>
              <div class="chat-item__content">
                <div class="chat-item__header">
                  <span class="chat-item__name">ìŠ¤íŠœë””ì˜¤ ë² ì–´</span>
                  <span class="chat-item__time">ë°©ê¸ˆ ì „</span>
                </div>
                <div class="chat-item__project">ğŸ¯ 2025 ì—¬ë¦„ ìº í˜ì¸ í”„ë¡œì íŠ¸</div>
                <div class="chat-item__message">ë„¤, í˜‘ì—… ì¡°ê±´ ê²€í†  í›„ ë‚´ì¼ê¹Œì§€ íšŒì‹ ë“œë¦¬ê² ìŠµë‹ˆë‹¤!</div>
              </div>
              <span class="chat-item__badge"></span>
            </a>

            <a href="10-2 ì±„íŒ…ë°© ìƒì„¸.html" class="chat-item unread" onclick="event.preventDefault(); if(!event.target.closest('.chat-item__pin')) location.href=this.href;">
              <button class="chat-item__pin" onclick="event.preventDefault(); event.stopPropagation(); togglePin(this.closest('.chat-item'));" title="ê³ ì •í•˜ê¸°">
                <i data-lucide="pin" class="icon icon-sm"></i>
              </button>
              <div class="chat-item__avatar" style="background: linear-gradient(135deg, #EC4899, #8B5CF6);"><img src="https://i.pravatar.cc/150?img=2" alt="avatar" style="width:100%;height:100%;object-fit:cover;border-radius:inherit"></div>
              <div class="chat-item__content">
                <div class="chat-item__header">
                  <span class="chat-item__name">í•‘í¬ë˜ë¹— ìŠ¤íŠœë””ì˜¤</span>
                  <span class="chat-item__time">2ì‹œê°„ ì „</span>
                </div>
                <div class="chat-item__project">ğŸ¯ ë¸Œëœë“œ ì½œë¼ë³´ ë¬¸ì˜</div>
                <div class="chat-item__message">í¬íŠ¸í´ë¦¬ì˜¤ í™•ì¸í–ˆìŠµë‹ˆë‹¤. ë¯¸íŒ… ì¼ì • ì¡°ìœ¨ ê°€ëŠ¥í•˜ì‹¤ê¹Œìš”?</div>
              </div>
              <span class="chat-item__badge"></span>
            </a>

            <!-- ì½ì€ ì±„íŒ… -->
            <a href="10-2-1 ì±„íŒ…ë°©_ì œì•ˆ_ìˆ˜ë½.html" class="chat-item">
              <div class="chat-item__avatar" style="background: linear-gradient(135deg, #06B6D4, #3B82F6);"><img src="https://i.pravatar.cc/150?img=3" alt="avatar" style="width:100%;height:100%;object-fit:cover;border-radius:inherit"></div>
              <div class="chat-item__content">
                <div class="chat-item__header">
                  <span class="chat-item__name">ì˜¤ì…˜í”„ë Œì¦ˆ</span>
                  <span class="chat-item__time">ì–´ì œ</span>
                </div>
                <div class="chat-item__project">ğŸ¯ í‚¤ì¦ˆ F&B íŒ¨í‚¤ì§€ í˜‘ì—…</div>
                <div class="chat-item__message">ê³„ì•½ì„œ ì´ˆì•ˆ ì „ë‹¬ë“œë ¸ìŠµë‹ˆë‹¤. í™•ì¸ ë¶€íƒë“œë ¤ìš”.</div>
              </div>
            </a>

            <a href="10-2-2 ì±„íŒ…ë°©_ê²°ì œ.html" class="chat-item">
              <div class="chat-item__avatar" style="background: linear-gradient(135deg, #F59E0B, #EF4444);"><img src="https://i.pravatar.cc/150?img=4" alt="avatar" style="width:100%;height:100%;object-fit:cover;border-radius:inherit"></div>
              <div class="chat-item__content">
                <div class="chat-item__header">
                  <span class="chat-item__name">ì„ ìƒ¤ì¸ ìºë¦­í„°</span>
                  <span class="chat-item__time">3ì¼ ì „</span>
                </div>
                <div class="chat-item__project">ğŸ¯ ë¬¸êµ¬ë¥˜ ë¼ì´ì„ ì‹±</div>
                <div class="chat-item__message">ê²°ì œê°€ ì™„ë£Œë˜ì—ˆìŠµë‹ˆë‹¤. ê°ì‚¬í•©ë‹ˆë‹¤!</div>
              </div>
            </a>

            <a href="10-2-3 ì±„íŒ…ë°©_í˜‘ì—… ì™„ë£Œ.html" class="chat-item">
              <div class="chat-item__avatar" style="background: linear-gradient(135deg, #10B981, #14B8A6);"><img src="https://i.pravatar.cc/150?img=5" alt="avatar" style="width:100%;height:100%;object-fit:cover;border-radius:inherit"></div>
              <div class="chat-item__content">
                <div class="chat-item__header">
                  <span class="chat-item__name">ê·¸ë¦°ëª¬ìŠ¤í„°ì¦ˆ</span>
                  <span class="chat-item__time">1ì£¼ì¼ ì „</span>
                </div>
                <div class="chat-item__project">âœ… ì—ì½” ìº í˜ì¸ ì™„ë£Œ</div>
                <div class="chat-item__message">í˜‘ì—… ì •ë§ ì¦ê±°ì› ìŠµë‹ˆë‹¤. ë‹¤ìŒì— ë˜ í•¨ê»˜í•´ìš”!</div>
              </div>
            </a>
          </div>
        </aside>

        <!-- ì±„íŒ… ë©”ì¸ ì˜ì—­ -->
        <div class="chat-main">
          <i data-lucide="message-circle" class="chat-main__icon"></i>
          <p class="chat-main__text">ëŒ€í™”ë¥¼ ì„ íƒí•˜ì„¸ìš”</p>
        </div>
      </div>
    </div>
  </main>

  <div id="footer-placeholder"></div>
  <script src="components/shared.js"></script>
  <script>
    initPage({activePage:'chat', isLoggedIn: true});
    lucide.createIcons();

    // íƒ­ ì „í™˜
    document.querySelectorAll('.chat-tab').forEach(tab => {
      tab.addEventListener('click', () => {
        document.querySelectorAll('.chat-tab').forEach(t => t.classList.remove('active'));
        tab.classList.add('active');
      });
    });

    // ê³ ì •í•€ í† ê¸€
    function togglePin(chatItem) {
      chatItem.classList.toggle('pinned');
      const isPinned = chatItem.classList.contains('pinned');
      const pinBtn = chatItem.querySelector('.chat-item__pin');
      pinBtn.title = isPinned ? 'ê³ ì • í•´ì œ' : 'ê³ ì •í•˜ê¸°';

      if (isPinned) {
        Toast.success('ì±„íŒ…ì´ ìƒë‹¨ì— ê³ ì •ë˜ì—ˆìŠµë‹ˆë‹¤.');
        // ê³ ì •ëœ ì±„íŒ…ì„ ë§¨ ìœ„ë¡œ ì´ë™
        const chatList = chatItem.closest('.chat-list');
        chatList.insertBefore(chatItem, chatList.firstChild);
      } else {
        Toast.info('ì±„íŒ… ê³ ì •ì´ í•´ì œë˜ì—ˆìŠµë‹ˆë‹¤.');
      }
      lucide.createIcons();
    }
  </script>
</body>
</html>
