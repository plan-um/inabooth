<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>ì±„íŒ…ë°© ìƒì„¸ - INABOOTH</title>
  <link rel="preconnect" href="https://cdn.jsdelivr.net">
  <link href="https://cdn.jsdelivr.net/gh/orioncactus/pretendard@v1.3.9/dist/web/variable/pretendardvariable-dynamic-subset.min.css" rel="stylesheet">
  <link rel="stylesheet" href="components/shared.css">
  <script src="https://unpkg.com/lucide@latest"></script>
  <style>
    .chat-page {
      padding-top: var(--header-height);
      min-height: 100vh;
      background: var(--color-bg-secondary);
      padding-bottom: var(--space-8);
    }

    .chat-container {
      display: grid;
      grid-template-columns: 380px 1fr 320px;
      background: white;
      border-radius: var(--radius-xl);
      overflow: hidden;
      box-shadow: var(--shadow-card);
      min-height: calc(100vh - var(--header-height) - var(--space-12));
      margin: var(--space-6) auto;
      max-width: 1400px;
    }

    /* ì±„íŒ… ëª©ë¡ ì‚¬ì´ë“œë°” */
    .chat-sidebar {
      border-right: 1px solid var(--color-border);
      display: flex;
      flex-direction: column;
    }

    .chat-sidebar__header {
      padding: var(--space-4) var(--space-6);
      border-bottom: 1px solid var(--color-border);
      display: flex;
      align-items: center;
      justify-content: space-between;
    }

    .chat-sidebar__title {
      font-size: var(--font-size-lg);
      font-weight: var(--font-weight-bold);
    }

    .chat-list {
      flex: 1;
      overflow-y: auto;
    }

    .chat-item {
      display: flex;
      gap: var(--space-3);
      padding: var(--space-4) var(--space-6);
      border-bottom: 1px solid var(--color-border-light);
      cursor: pointer;
      transition: background var(--transition-fast);
      position: relative;
    }

    .chat-item:hover {
      background: var(--color-bg-secondary);
    }

    .chat-item.active {
      background: var(--color-primary-light);
    }

    .chat-item.unread {
      background: rgba(79, 70, 229, 0.03);
    }

    .chat-item__avatar {
      width: 48px;
      height: 48px;
      border-radius: var(--radius-md);
      background: var(--color-bg-tertiary);
      flex-shrink: 0;
      overflow: hidden;
    }

    .chat-item__avatar img {
      width: 100%;
      height: 100%;
      object-fit: cover;
    }

    .chat-item__content {
      flex: 1;
      min-width: 0;
    }

    .chat-item__header {
      display: flex;
      justify-content: space-between;
      align-items: center;
      margin-bottom: 4px;
    }

    .chat-item__name {
      font-size: var(--font-size-sm);
      font-weight: var(--font-weight-semibold);
      color: var(--color-text-primary);
    }

    .chat-item__time {
      font-size: var(--font-size-xs);
      color: var(--color-text-tertiary);
    }

    .chat-item__project {
      font-size: var(--font-size-xs);
      color: var(--color-primary);
      margin-bottom: 4px;
    }

    .chat-item__message {
      font-size: var(--font-size-sm);
      color: var(--color-text-secondary);
      white-space: nowrap;
      overflow: hidden;
      text-overflow: ellipsis;
    }

    .chat-item.unread .chat-item__message {
      font-weight: var(--font-weight-medium);
      color: var(--color-text-primary);
    }

    .chat-item__badge {
      width: 8px;
      height: 8px;
      background: var(--color-primary);
      border-radius: 50%;
      margin-left: var(--space-2);
    }

    /* ê³ ì •í•€ ê¸°ëŠ¥ */
    .chat-item__pin {
      position: absolute;
      top: 50%;
      right: var(--space-2);
      transform: translateY(-50%);
      color: var(--color-warning);
      opacity: 0;
      transition: opacity var(--transition-fast);
      background: none;
      border: none;
      padding: var(--space-1);
      cursor: pointer;
    }

    .chat-item:hover .chat-item__pin {
      opacity: 0.5;
    }

    .chat-item.pinned .chat-item__pin {
      opacity: 1;
    }

    .chat-item.pinned {
      background: rgba(245, 158, 11, 0.05);
      border-left: 3px solid var(--color-warning);
    }

    /* ì±„íŒ… ë©”ì¸ ì˜ì—­ */
    .chat-main {
      display: flex;
      flex-direction: column;
      border-right: 1px solid var(--color-border);
    }

    .chat-main__header {
      padding: var(--space-4) var(--space-6);
      border-bottom: 1px solid var(--color-border);
      display: flex;
      align-items: center;
      justify-content: space-between;
    }

    .chat-main__user {
      display: flex;
      align-items: center;
      gap: var(--space-3);
    }

    .chat-main__avatar {
      width: 40px;
      height: 40px;
      border-radius: var(--radius-md);
      background: var(--gradient-primary);
    }

    .chat-main__avatar img {
      width: 100%;
      height: 100%;
      object-fit: cover;
      border-radius: var(--radius-md);
    }

    .chat-main__name {
      font-size: var(--font-size-base);
      font-weight: var(--font-weight-semibold);
    }

    .chat-main__status {
      font-size: var(--font-size-xs);
      color: var(--color-success);
    }

    .chat-main__actions {
      display: flex;
      gap: var(--space-2);
    }

    /* ë©”ì‹œì§€ ì˜ì—­ */
    .chat-messages {
      flex: 1;
      overflow-y: auto;
      padding: var(--space-6);
      display: flex;
      flex-direction: column;
      gap: var(--space-4);
    }

    .message {
      display: flex;
      gap: var(--space-3);
      max-width: 70%;
    }

    .message--sent {
      margin-left: auto;
      flex-direction: row-reverse;
    }

    .message__avatar {
      width: 32px;
      height: 32px;
      border-radius: 50%;
      background: var(--color-bg-tertiary);
      flex-shrink: 0;
    }

    .message__content {
      padding: var(--space-3) var(--space-4);
      border-radius: var(--radius-lg);
      background: var(--color-bg-secondary);
    }

    .message--sent .message__content {
      background: var(--color-primary);
      color: white;
    }

    .message__text {
      font-size: var(--font-size-sm);
      line-height: 1.5;
    }

    .message__time {
      font-size: var(--font-size-xs);
      color: var(--color-text-tertiary);
      margin-top: var(--space-1);
    }

    .message--sent .message__time {
      color: rgba(255,255,255,0.7);
    }

    /* ì‹œìŠ¤í…œ ë©”ì‹œì§€ */
    .system-message {
      text-align: center;
      padding: var(--space-4);
    }

    .system-message__content {
      display: inline-flex;
      align-items: center;
      gap: var(--space-2);
      padding: var(--space-2) var(--space-4);
      background: var(--color-primary-light);
      border-radius: var(--radius-full);
      font-size: var(--font-size-xs);
      color: var(--color-primary);
    }

    /* ì…ë ¥ ì˜ì—­ */
    .chat-input {
      padding: var(--space-4) var(--space-6);
      border-top: 1px solid var(--color-border);
      display: flex;
      gap: var(--space-3);
      align-items: flex-end;
    }

    .chat-input__field {
      flex: 1;
      padding: var(--space-3) var(--space-4);
      border: 1px solid var(--color-border);
      border-radius: var(--radius-lg);
      font-size: var(--font-size-sm);
      resize: none;
      min-height: 44px;
      max-height: 120px;
    }

    .chat-input__field:focus {
      outline: none;
      border-color: var(--color-primary);
    }

    .chat-input__actions {
      display: flex;
      gap: var(--space-2);
    }

    /* í”„ë¡œì íŠ¸ ì •ë³´ ì‚¬ì´ë“œë°” */
    .chat-info {
      background: var(--color-bg-secondary);
      padding: var(--space-6);
      overflow-y: auto;
    }

    .chat-info__section {
      margin-bottom: var(--space-6);
    }

    .chat-info__title {
      font-size: var(--font-size-sm);
      font-weight: var(--font-weight-semibold);
      color: var(--color-text-tertiary);
      margin-bottom: var(--space-3);
      text-transform: uppercase;
    }

    .project-card {
      background: white;
      border-radius: var(--radius-lg);
      padding: var(--space-4);
      margin-bottom: var(--space-3);
    }

    .project-card__header {
      display: flex;
      align-items: center;
      gap: var(--space-3);
      margin-bottom: var(--space-3);
    }

    .project-card__icon {
      width: 40px;
      height: 40px;
      border-radius: var(--radius-md);
      background: var(--gradient-primary);
      display: flex;
      align-items: center;
      justify-content: center;
      color: white;
    }

    .project-card__name {
      font-size: var(--font-size-sm);
      font-weight: var(--font-weight-semibold);
    }

    .project-card__status {
      font-size: var(--font-size-xs);
      color: var(--color-primary);
    }

    .project-card__details {
      display: flex;
      flex-direction: column;
      gap: var(--space-2);
    }

    .project-card__detail {
      display: flex;
      justify-content: space-between;
      font-size: var(--font-size-xs);
    }

    .project-card__detail-label {
      color: var(--color-text-tertiary);
    }

    .project-card__detail-value {
      font-weight: var(--font-weight-medium);
    }

    .action-buttons {
      display: flex;
      flex-direction: column;
      gap: var(--space-2);
    }

    /* ë”ë³´ê¸° ë©”ë‰´ */
    .chat-more-menu {
      position: relative;
    }

    .chat-more-dropdown {
      position: absolute;
      top: 100%;
      right: 0;
      margin-top: var(--space-2);
      background: white;
      border-radius: var(--radius-lg);
      box-shadow: var(--shadow-lg);
      border: 1px solid var(--color-border);
      min-width: 160px;
      z-index: 100;
      display: none;
    }

    .chat-more-dropdown.show {
      display: block;
    }

    .chat-more-dropdown__item {
      display: flex;
      align-items: center;
      gap: var(--space-3);
      padding: var(--space-3) var(--space-4);
      font-size: var(--font-size-sm);
      color: var(--color-text-primary);
      transition: background var(--transition-fast);
    }

    .chat-more-dropdown__item:hover {
      background: var(--color-bg-secondary);
    }

    .chat-more-dropdown__item--danger {
      color: var(--color-error);
    }

    .chat-more-dropdown__item--danger:hover {
      background: var(--color-error-light);
    }

    @media (max-width: 1024px) {
      .chat-container {
        grid-template-columns: 1fr;
      }

      .chat-sidebar,
      .chat-info {
        display: none;
      }
    }
  </style>
</head>
<body>
  <div id="header-placeholder"></div>

  <main class="chat-page">
    <div class="container">
      <div class="chat-container">
        <!-- ì±„íŒ… ëª©ë¡ ì‚¬ì´ë“œë°” -->
        <aside class="chat-sidebar">
          <div class="chat-sidebar__header">
            <h2 class="chat-sidebar__title">ë©”ì‹œì§€</h2>
            <button class="btn btn--ghost btn--sm">
              <i data-lucide="search" class="icon icon-sm"></i>
            </button>
          </div>

          <div class="chat-list">
            <!-- ì½ì§€ ì•Šì€ ì±„íŒ… (ê³ ì •ë¨) -->
            <a href="10-2 ì±„íŒ…ë°© ìƒì„¸.html" class="chat-item active unread pinned" onclick="event.preventDefault(); if(!event.target.closest('.chat-item__pin')) location.href=this.href;">
              <button class="chat-item__pin" onclick="event.preventDefault(); event.stopPropagation(); togglePin(this.closest('.chat-item'));" title="ê³ ì • í•´ì œ">
                <i data-lucide="pin" class="icon icon-sm"></i>
              </button>
              <div class="chat-item__avatar">
                <img src="images/characters/Random Objects (1).png" alt="ê³°ëŒì´ ì¹œêµ¬ë“¤">
              </div>
              <div class="chat-item__content">
                <div class="chat-item__header">
                  <span class="chat-item__name">ìŠ¤íŠœë””ì˜¤ ë² ì–´</span>
                  <span class="chat-item__time">ë°©ê¸ˆ ì „</span>
                </div>
                <div class="chat-item__project">ğŸ¯ 2025 ì—¬ë¦„ ìº í˜ì¸ í”„ë¡œì íŠ¸</div>
                <div class="chat-item__message">ë„¤, í˜‘ì—… ì¡°ê±´ ê²€í†  í›„ ë‚´ì¼ê¹Œì§€ íšŒì‹ ë“œë¦¬ê² ìŠµë‹ˆë‹¤!</div>
              </div>
              <span class="chat-item__badge"></span>
            </a>

            <!-- ì½ì€ ì±„íŒ… -->
            <a href="10-2-1 ì±„íŒ…ë°©_ì œì•ˆ_ìˆ˜ë½.html" class="chat-item" onclick="event.preventDefault(); if(!event.target.closest('.chat-item__pin')) location.href=this.href;">
              <button class="chat-item__pin" onclick="event.preventDefault(); event.stopPropagation(); togglePin(this.closest('.chat-item'));" title="ê³ ì •í•˜ê¸°">
                <i data-lucide="pin" class="icon icon-sm"></i>
              </button>
              <div class="chat-item__avatar" style="background: linear-gradient(135deg, #06B6D4, #3B82F6);"><img src="https://i.pravatar.cc/150?img=6" alt="avatar" style="width:100%;height:100%;object-fit:cover;border-radius:inherit"></div>
              <div class="chat-item__content">
                <div class="chat-item__header">
                  <span class="chat-item__name">ì˜¤ì…˜í”„ë Œì¦ˆ</span>
                  <span class="chat-item__time">ì–´ì œ</span>
                </div>
                <div class="chat-item__project">ğŸ¯ í‚¤ì¦ˆ F&B íŒ¨í‚¤ì§€ í˜‘ì—…</div>
                <div class="chat-item__message">ê³„ì•½ì„œ ì´ˆì•ˆ ì „ë‹¬ë“œë ¸ìŠµë‹ˆë‹¤. í™•ì¸ ë¶€íƒë“œë ¤ìš”.</div>
              </div>
            </a>

            <a href="10-2-2 ì±„íŒ…ë°©_ê²°ì œ.html" class="chat-item" onclick="event.preventDefault(); if(!event.target.closest('.chat-item__pin')) location.href=this.href;">
              <button class="chat-item__pin" onclick="event.preventDefault(); event.stopPropagation(); togglePin(this.closest('.chat-item'));" title="ê³ ì •í•˜ê¸°">
                <i data-lucide="pin" class="icon icon-sm"></i>
              </button>
              <div class="chat-item__avatar" style="background: linear-gradient(135deg, #F59E0B, #EF4444);"><img src="https://i.pravatar.cc/150?img=7" alt="avatar" style="width:100%;height:100%;object-fit:cover;border-radius:inherit"></div>
              <div class="chat-item__content">
                <div class="chat-item__header">
                  <span class="chat-item__name">ì„ ìƒ¤ì¸ ìºë¦­í„°</span>
                  <span class="chat-item__time">3ì¼ ì „</span>
                </div>
                <div class="chat-item__project">ğŸ¯ ë¬¸êµ¬ë¥˜ ë¼ì´ì„ ì‹±</div>
                <div class="chat-item__message">ê²°ì œê°€ ì™„ë£Œë˜ì—ˆìŠµë‹ˆë‹¤. ê°ì‚¬í•©ë‹ˆë‹¤!</div>
              </div>
            </a>
          </div>
        </aside>

        <!-- ì±„íŒ… ë©”ì¸ ì˜ì—­ -->
        <div class="chat-main">
          <div class="chat-main__header">
            <div class="chat-main__user">
              <div class="chat-main__avatar">
                <img src="images/characters/Random Objects (1).png" alt="ìŠ¤íŠœë””ì˜¤ ë² ì–´">
              </div>
              <div>
                <div class="chat-main__name">ìŠ¤íŠœë””ì˜¤ ë² ì–´</div>
                <div class="chat-main__status">ì˜¨ë¼ì¸</div>
              </div>
            </div>
            <div class="chat-main__actions">
              <button class="btn btn--ghost btn--sm" onclick="Toast.info('ì˜ìƒí†µí™” ê¸°ëŠ¥ ì¤€ë¹„ì¤‘ì…ë‹ˆë‹¤.')">
                <i data-lucide="video" class="icon icon-sm"></i>
              </button>
              <button class="btn btn--ghost btn--sm" onclick="Toast.info('ìŒì„±í†µí™” ê¸°ëŠ¥ ì¤€ë¹„ì¤‘ì…ë‹ˆë‹¤.')">
                <i data-lucide="phone" class="icon icon-sm"></i>
              </button>
              <div class="chat-more-menu">
                <button class="btn btn--ghost btn--sm chat-more-btn" onclick="toggleMoreMenu()">
                  <i data-lucide="more-vertical" class="icon icon-sm"></i>
                </button>
                <div class="chat-more-dropdown" id="chatMoreDropdown">
                  <a href="10-2-5 ì±„íŒ…ë°©_ì‹ ê³ .html" class="chat-more-dropdown__item">
                    <i data-lucide="flag" class="icon icon-sm"></i>
                    ì‹ ê³ í•˜ê¸°
                  </a>
                  <a href="10-2-6 ì±„íŒ…ë°©_ë‚˜ê°€ê¸°.html" class="chat-more-dropdown__item chat-more-dropdown__item--danger">
                    <i data-lucide="log-out" class="icon icon-sm"></i>
                    ì±„íŒ…ë°© ë‚˜ê°€ê¸°
                  </a>
                </div>
              </div>
            </div>
          </div>

          <div class="chat-messages">
            <div class="system-message">
              <div class="system-message__content">
                <i data-lucide="info" class="icon icon-xs"></i>
                2025 ì—¬ë¦„ ìº í˜ì¸ í”„ë¡œì íŠ¸ í˜‘ì—…ì´ ì‹œì‘ë˜ì—ˆìŠµë‹ˆë‹¤
              </div>
            </div>

            <div class="message">
              <div class="message__avatar" style="background: var(--gradient-primary);"><img src="https://i.pravatar.cc/150?img=8" alt="avatar" style="width:100%;height:100%;object-fit:cover;border-radius:inherit"></div>
              <div class="message__content">
                <div class="message__text">ì•ˆë…•í•˜ì„¸ìš”! ê·€ì‚¬ì˜ ìºë¦­í„° IPì— ê´€ì‹¬ì´ ìˆì–´ ì—°ë½ë“œë ¸ìŠµë‹ˆë‹¤. 2025 ì—¬ë¦„ ìº í˜ì¸ì— í•¨ê»˜í•˜ê³  ì‹¶ìŠµë‹ˆë‹¤.</div>
                <div class="message__time">ì˜¤ì „ 10:30</div>
              </div>
            </div>

            <div class="message message--sent">
              <div class="message__content">
                <div class="message__text">ì•ˆë…•í•˜ì„¸ìš”! ê´€ì‹¬ ê°€ì ¸ì£¼ì…”ì„œ ê°ì‚¬í•©ë‹ˆë‹¤. ì–´ë–¤ í˜•íƒœì˜ í˜‘ì—…ì„ ìƒê°í•˜ê³  ê³„ì‹ ê°€ìš”?</div>
                <div class="message__time">ì˜¤ì „ 10:45</div>
              </div>
            </div>

            <div class="message">
              <div class="message__avatar" style="background: var(--gradient-primary);"><img src="https://i.pravatar.cc/150?img=9" alt="avatar" style="width:100%;height:100%;object-fit:cover;border-radius:inherit"></div>
              <div class="message__content">
                <div class="message__text">ì €í¬ F&B ë¸Œëœë“œì˜ ì—¬ë¦„ í•œì • íŒ¨í‚¤ì§€ì— ìºë¦­í„°ë¥¼ í™œìš©í•˜ê³  ì‹¶ìŠµë‹ˆë‹¤. ìì„¸í•œ ì œì•ˆì„œë¥¼ ë³´ë‚´ë“œë¦´ê²Œìš”.</div>
                <div class="message__time">ì˜¤ì „ 11:00</div>
              </div>
            </div>

            <div class="message message--sent">
              <div class="message__content">
                <div class="message__text">ë„¤, í˜‘ì—… ì¡°ê±´ ê²€í†  í›„ ë‚´ì¼ê¹Œì§€ íšŒì‹ ë“œë¦¬ê² ìŠµë‹ˆë‹¤!</div>
                <div class="message__time">ì˜¤ì „ 11:15</div>
              </div>
            </div>
          </div>

          <div class="chat-input">
            <button class="btn btn--ghost btn--sm">
              <i data-lucide="paperclip" class="icon icon-sm"></i>
            </button>
            <textarea class="chat-input__field" placeholder="ë©”ì‹œì§€ë¥¼ ì…ë ¥í•˜ì„¸ìš”..." rows="1"></textarea>
            <div class="chat-input__actions">
              <button class="btn btn--ghost btn--sm">
                <i data-lucide="smile" class="icon icon-sm"></i>
              </button>
              <button class="btn btn--primary btn--sm" onclick="Toast.success('ë©”ì‹œì§€ê°€ ì „ì†¡ë˜ì—ˆìŠµë‹ˆë‹¤.')">
                <i data-lucide="send" class="icon icon-sm"></i>
              </button>
            </div>
          </div>
        </div>

        <!-- í”„ë¡œì íŠ¸ ì •ë³´ ì‚¬ì´ë“œë°” -->
        <aside class="chat-info">
          <div class="chat-info__section">
            <h3 class="chat-info__title">í”„ë¡œì íŠ¸ ì •ë³´</h3>
            <div class="project-card">
              <div class="project-card__header">
                <div class="project-card__icon">
                  <i data-lucide="briefcase" class="icon icon-sm"></i>
                </div>
                <div>
                  <div class="project-card__name">2025 ì—¬ë¦„ ìº í˜ì¸</div>
                  <div class="project-card__status">í˜‘ìƒ ì¤‘</div>
                </div>
              </div>
              <div class="project-card__details">
                <div class="project-card__detail">
                  <span class="project-card__detail-label">ì¹´í…Œê³ ë¦¬</span>
                  <span class="project-card__detail-value">F&B íŒ¨í‚¤ì§€</span>
                </div>
                <div class="project-card__detail">
                  <span class="project-card__detail-label">ì˜ˆì‚°</span>
                  <span class="project-card__detail-value">â‚© 5,000,000</span>
                </div>
                <div class="project-card__detail">
                  <span class="project-card__detail-label">ê¸°ê°„</span>
                  <span class="project-card__detail-value">2025.06 ~ 2025.08</span>
                </div>
              </div>
            </div>
          </div>

          <div class="chat-info__section">
            <h3 class="chat-info__title">ë¹ ë¥¸ ì•¡ì…˜</h3>
            <div class="action-buttons">
              <button class="btn btn--primary btn--md w-full" onclick="Toast.success('í˜‘ì—… ì œì•ˆì„ ìˆ˜ë½í–ˆìŠµë‹ˆë‹¤.')">
                <i data-lucide="check" class="icon icon-sm"></i>
                ì œì•ˆ ìˆ˜ë½
              </button>
              <button class="btn btn--outline btn--md w-full" onclick="Toast.info('ê³„ì•½ì„œ ì‘ì„± í˜ì´ì§€ë¡œ ì´ë™í•©ë‹ˆë‹¤.')">
                <i data-lucide="file-text" class="icon icon-sm"></i>
                ê³„ì•½ì„œ ì‘ì„±
              </button>
              <button class="btn btn--ghost btn--md w-full" onclick="Toast.error('í˜‘ì—…ì´ ê±°ì ˆë˜ì—ˆìŠµë‹ˆë‹¤.')">
                <i data-lucide="x" class="icon icon-sm"></i>
                ê±°ì ˆ
              </button>
            </div>
          </div>

          <div class="chat-info__section">
            <h3 class="chat-info__title">ì²¨ë¶€ íŒŒì¼</h3>
            <div class="project-card">
              <div style="display: flex; align-items: center; gap: var(--space-3);">
                <div style="width: 40px; height: 40px; background: var(--color-bg-tertiary); border-radius: var(--radius-md); display: flex; align-items: center; justify-content: center;">
                  <i data-lucide="file-text" class="icon icon-sm" style="color: var(--color-primary);"></i>
                </div>
                <div style="flex: 1;">
                  <div style="font-size: var(--font-size-sm); font-weight: var(--font-weight-medium);">ì œì•ˆì„œ_2025ì—¬ë¦„.pdf</div>
                  <div style="font-size: var(--font-size-xs); color: var(--color-text-tertiary);">2.4 MB</div>
                </div>
                <button class="btn btn--ghost btn--sm">
                  <i data-lucide="download" class="icon icon-sm"></i>
                </button>
              </div>
            </div>
          </div>
        </aside>
      </div>
    </div>
  </main>

  <div id="footer-placeholder"></div>
  <script src="components/shared.js"></script>
  <script>
    initPage({activePage:'chat', isLoggedIn: true});
    lucide.createIcons();

    // ë”ë³´ê¸° ë©”ë‰´ í† ê¸€
    function toggleMoreMenu() {
      const dropdown = document.getElementById('chatMoreDropdown');
      dropdown.classList.toggle('show');
    }

    // ì™¸ë¶€ í´ë¦­ ì‹œ ë©”ë‰´ ë‹«ê¸°
    document.addEventListener('click', (e) => {
      if (!e.target.closest('.chat-more-menu')) {
        document.getElementById('chatMoreDropdown').classList.remove('show');
      }
    });

    // ê³ ì •í•€ í† ê¸€
    function togglePin(chatItem) {
      chatItem.classList.toggle('pinned');
      const isPinned = chatItem.classList.contains('pinned');
      const pinBtn = chatItem.querySelector('.chat-item__pin');
      pinBtn.title = isPinned ? 'ê³ ì • í•´ì œ' : 'ê³ ì •í•˜ê¸°';

      if (isPinned) {
        Toast.success('ì±„íŒ…ì´ ìƒë‹¨ì— ê³ ì •ë˜ì—ˆìŠµë‹ˆë‹¤.');
        const chatList = chatItem.closest('.chat-list');
        chatList.insertBefore(chatItem, chatList.firstChild);
      } else {
        Toast.info('ì±„íŒ… ê³ ì •ì´ í•´ì œë˜ì—ˆìŠµë‹ˆë‹¤.');
      }
      lucide.createIcons();
    }
  </script>
</body>
</html>
